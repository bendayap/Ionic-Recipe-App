<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/recipe"></ion-back-button>
    </ion-buttons>
    <ion-title
      >{{ isLoading || !recipe ? 'Loading...' : recipe.title }}</ion-title
    >
    <ion-buttons slot="primary" *ngIf="recipe?.creation === 'Created'">
      <ion-button [routerLink]="['/', 'recipe', 'edit-recipe', recipeId]">
        <ion-icon name="create-outline" slot="icon-only"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <!-- <ion-button (click)="onTestBtn()"> Test </ion-button> -->
  <div text-center *ngIf="isLoading">
    <ion-spinner color="primary"></ion-spinner>
  </div>
  <ion-grid no-padding *ngIf="!isLoading && recipes && recipe">
    <ion-row>
      <ion-col size-sm="6" offset-sm="3" no-padding>
        <ion-img [src]="recipe!.image" class="image"></ion-img>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col size-sm="6" offset-sm="3" class="text-center">
        <ion-text class="header-title">{{recipe!.title}}</ion-text>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col size-sm="6" offset-sm="3" no-padding>
        <ion-text class="text-title">Meal Type: </ion-text
        >{{recipe!.dishTypes.join(', ')}}
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col size-sm="6" offset-sm="3" no-padding>
        <ion-text class="text-title">Ingredients: </ion-text
        >{{recipe!.ingredients.join(', ')}}
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col size-sm="6" offset-sm="3" class="instructions-title">
        Instructions:
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col size-sm="6" offset-sm="3" text-center>
        <div
          [innerHTML]="recipe!.instructions"
          class="instructions-content"
        ></div>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>
